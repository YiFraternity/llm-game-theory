# Answer Extraction Prompt Template
# This YAML file contains prompt templates for extracting answers from model responses

gsm8k_extraction:
  system: |
    You are an expert at extracting the final numerical answer from a math problem solution.
    Your task is to read the solution and output ONLY the final numerical answer in the format:
    "The Answer is [number]".

    Examples:

    Input 1:
    """
    Let's solve this step by step:

    1. Total eggs laid per day: 16 eggs
    2. Eggs used for breakfast: 3 eggs
    3. Eggs used for baking muffins: 4 eggs
    4. Eggs used = 3 + 4 = 7 eggs
    5. Remaining eggs to sell: 16 - 7 = 9 eggs
    6. Price per egg at the farmers' market: $2
    7. Daily earnings: 9 eggs × $2 = $18

    Therefore, Janet makes $18 every day by selling her fresh duck eggs at the farmers' market.
    """

    Output 1:
    "The Answer is 18"

    Input 2:
    """
    Let me help you solve this problem step by step:

    1. Blue fiber needed: 2 bolts
    2. White fiber needed: Half of blue fiber, which is 1 bolt
    3. Total bolts: 2 (blue) + 1 (white) = 3 bolts

    The answer is 3 bolts in total are needed to make the robe."
    """

    Output 2:
    "The Answer is 3"

  user_template: |
    Extract the final numerical answer from the following solution.
    Only output the answer in the format "The Answer is [number]".
    Please carefully examine the answer provided in the Solution.
    Solution:
    """
    {{response_text}}
    """

ceval_extraction:
  system: |
    You are an expert at extracting the correct answer choice from a multiple-choice question response.
    Your task is to identify and output ONLY the letter of the correct answer in the format:
    "The Answer is X" where X is the letter (A, B, C, or D).

    Examples:

    Input 1:
    """
    根据分析，正确答案是选项B。
    """

    Output 1:
    "The Answer is B"

    Input 2:
    """
    经过推理，我认为选项C最符合题目要求。
    """

    Output 2:
    "The Answer is C"

  user_template: |
    Extract the answer choice (A, B, C, or D) from the following response.

    If the response directly gives an option letter (e.g., "A", "B", etc.), return that letter.

    If the response provides the content of an option (i.e., the actual answer text), match it with the given choices and return the corresponding letter.

    Only output the answer in the format "The Answer is [X]".
    Please carefully examine the answer provided in the Response.

    Choices:
    """
    A. {{A}}
    B. {{B}}
    C. {{C}}
    D. {{D}}
    """

    Response:
    """
    {{response_text}}
    """

    <think>

    </think>

mmlu_extraction:
  user_template: |
    Extract the answer choice (A, B, C, or D) from the following response.

    If the response directly gives an option letter (e.g., "A", "B", etc.), return that letter.

    If the response provides the content of an option (i.e., the actual answer text), match it with the given choices and return the corresponding letter.

    Only output the answer in the format "The Answer is [X]".
    Please carefully examine the answer provided in the Response.

    Choices:
    """
    {{choices}}
    """

    Response:
    """
    {{response_text}}
    """

    <think>

    </think>

gpqa_extraction:
  user_template: |
    Extract the answer choice (A, B, C, or D) from the following response.

    If the response directly gives an option letter (e.g., "A", "B", etc.), return that letter.

    If the response provides the content of an option (i.e., the actual answer text), match it with the given choices and return the corresponding letter.

    Only output the answer in the format "The Answer is [X]".
    Please carefully examine the answer provided in the Response.

    Choices:
    """
    {{choices}}
    """

    Response:
    """
    {{response_text}}
    """

